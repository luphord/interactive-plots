<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Interactive Plots</title>
    <link rel="stylesheet" href="assets/vendor/chartist.min.css">
    <link rel="stylesheet" href="assets/vendor/water.min.css">
  </head>
  <body>
    <h1>Interactive Plots</h1>
    <div class="slidecontainer">
        <input type="range" min="1" max="20" value="5" class="slider" id="myslider2">
    </div>
    <div class="ct-chart ct-perfect-fourth"></div>
    <script src="assets/vendor/chartist.min.js"></script>
    <script>
var data = {
  series: [
    [5, 5, 7, 1, 6, 0],
    [0, 1, 2, 3, 4, 5],
    [-2, 4, 3, 2, 5, 1]
  ]
};

var options = {
  showPoint: false,
  lineSmooth: true,
  axisX: {
    showGrid: false,
    showLabel: false
  },
  axisY: {
    offset: 80,
    labelInterpolationFnc: function(value) {
      return value.toFixed(2);
    }
  }
};

var chart = new Chartist.Line('.ct-chart', data, options);


// Updates from slider
var slider = document.createElement("input");
slider.type = "range";
slider.min = 1;
slider.max = 20;
slider.value = 5
document.getElementsByClassName("slidecontainer")[0].appendChild(slider);

slider.oninput = function() {
    data.series[0][0] = this.value;
    chart.update(data);
};

var slider2 = document.getElementById("myslider2");

slider2.oninput = function() {
    data.series[0][1] = this.value;
    chart.update(data);
};

// Updates to/from hash
var counter = 0

slider.onchange = () => history.pushState(null, null, "#" + ++counter);

slider2.onchange = () => history.pushState(null, null, "#" + ++counter);

window.onhashchange = evt => console.log(evt);
    </script>
  </body>
</html>